- op: add
  path: /spec/tasks/-
  value:
    name: build-push 
    taskRef:
      name: build-push
      kind: namespaced
    params:
    - name: dockerTarget
      value: "$(docker_target)"
    - name: imageName
      value: "$(image_name)"
    - name: pathToContext
      value: "$(path_to_context)"
    - name: pathToDockerfile
      value: "$(path_to_docker_file)"
    resources:
      inputs:
      - name: kubeflow
        resource: kubeflow
      outputs:
      - name: $(image_name)
        resource: $(image_name)
- op: add
  path: /spec/params/-
  value:
    name: docker_target
- op: add
  path: /spec/params/-
  value:
    name: image_name
- op: add
  path: /spec/params/-
  value:
    name: path_to_context
- op: add
  path: /spec/params/-
  value:
    name: path_to_docker_file
- op: add
  path: /spec/resources/-
  value:
    name: kubeflow
    type: git
- op: add
  path: /spec/resources/-
  value:
    name: $(image_name)
    type: image
